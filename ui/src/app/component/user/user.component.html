<ng-template #loading>Loading...</ng-template>
<ng-template #unauthorised>You are not authorised to view user details.</ng-template>
<ng-container *ngIf="loaded; else loading">
<ng-container *ngIf="auth.canGetUser(); else unauthorised">
  <div class="container">
    <div class="pb-2 mt-4 mb-2 border-bottom">
      <h1>{{mode}} user</h1>
      <p>User help text</p>
    </div>
    <form #form="ngForm">
      <div class="form-group row">
        <label for="username" class="col-sm-2 col-form-label">Username</label>
        <div class="col-sm-4">
          <input id="username" name="username" [(ngModel)]="user.username"
                 class="form-control" readonly/>
        </div>
        <label for="staff-code" class="col-sm-2 col-form-label">Staff Code</label>
        <div class="col-sm-4">
          <input id="staff-code" name="staff-code" [(ngModel)]="user.staffCode"
                 class="form-control" readonly/>
        </div>
      </div>
      <div class="form-group row">
        <label for="forenames" class="col-sm-2 col-form-label">Forename(s)</label>
        <div class="col-sm-4">
          <input id="forenames" name="forenames" [(ngModel)]="user.forenames"
                 class="form-control" readonly>
        </div>
        <label for="surname" class="col-sm-2 col-form-label">Surname</label>
        <div class="col-sm-4">
          <input id="surname" name="surname" [(ngModel)]="user.surname"
                 class="form-control" readonly>
        </div>
      </div>
      <div class="form-group row">
        <label for="roles" class="col-sm-2 col-form-label">Roles (todo)</label>
        <div class="col-sm-10">
          <input id="roles" name="roles"
                 class="form-control" readonly value="{{transactionNamesForDisplay}}"/>
        </div>
      </div>
    </form>
    <p>{{json}}</p>
  </div>
</ng-container>
</ng-container>
